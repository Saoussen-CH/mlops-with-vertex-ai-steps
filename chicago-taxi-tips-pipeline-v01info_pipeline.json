{"displayName": "chicago-taxi-tips-pipeline-v01", "labels": {"tfx_py_version": "3-10", "tfx_runner": "kubeflow_v2", "tfx_version": "1-14-0"}, "pipelineSpec": {"components": {"BaselineModelResolver-model-blessing-resolver": {"executorLabel": "BaselineModelResolver-model-blessing-resolver_executor", "outputDefinitions": {"artifacts": {"model_blessing": {"artifactType": {"instanceSchema": "title: tfx.ModelBlessing\ntype: object\n"}}}}}, "BaselineModelResolver-model-resolver": {"executorLabel": "BaselineModelResolver-model-resolver_executor", "inputDefinitions": {"artifacts": {"input": {"artifactType": {"instanceSchema": "title: tfx.ModelBlessing\ntype: object\n"}}}}, "outputDefinitions": {"artifacts": {"model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}}}}, "DataTransformer": {"executorLabel": "DataTransformer_executor", "inputDefinitions": {"artifacts": {"examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}}, "parameters": {"custom_config": {"type": "STRING"}, "disable_statistics": {"type": "INT"}, "force_tf_compat_v1": {"type": "INT"}, "module_path": {"type": "STRING"}, "splits_config": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"post_transform_anomalies": {"artifactType": {"instanceSchema": "title: tfx.ExampleAnomalies\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "post_transform_schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}, "post_transform_stats": {"artifactType": {"instanceSchema": "title: tfx.ExampleStatistics\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "pre_transform_schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}, "pre_transform_stats": {"artifactType": {"instanceSchema": "title: tfx.ExampleStatistics\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "transform_graph": {"artifactType": {"instanceSchema": "title: tfx.TransformGraph\ntype: object\n"}}, "transformed_examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "updated_analyzer_cache": {"artifactType": {"instanceSchema": "title: tfx.TransformCache\ntype: object\n"}}}}}, "ExampleValidator": {"executorLabel": "ExampleValidator_executor", "inputDefinitions": {"artifacts": {"schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}, "statistics": {"artifactType": {"instanceSchema": "title: tfx.ExampleStatistics\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}}, "parameters": {"exclude_splits": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"anomalies": {"artifactType": {"instanceSchema": "title: tfx.ExampleAnomalies\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}}}}, "HyperparamsGen": {"executorLabel": "HyperparamsGen_executor", "inputDefinitions": {"parameters": {"batch_size": {"type": "INT"}, "learning_rate": {"type": "DOUBLE"}, "num_epochs": {"type": "INT"}}}, "outputDefinitions": {"artifacts": {"hyperparameters": {"artifactType": {"instanceSchema": "title: tfx.HyperParameters\ntype: object\n"}}}}}, "ImportSchemaGen": {"executorLabel": "ImportSchemaGen_executor", "inputDefinitions": {"parameters": {"schema_file": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}}}}, "ModelEvaluator": {"executorLabel": "ModelEvaluator_executor", "inputDefinitions": {"artifacts": {"baseline_model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}, "examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}, "schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}}, "parameters": {"eval_config": {"type": "STRING"}, "example_splits": {"type": "STRING"}, "fairness_indicator_thresholds": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"blessing": {"artifactType": {"instanceSchema": "title: tfx.ModelBlessing\ntype: object\n"}}, "evaluation": {"artifactType": {"instanceSchema": "title: tfx.ModelEvaluation\ntype: object\n"}}}}}, "ModelTrainer": {"executorLabel": "ModelTrainer_executor", "inputDefinitions": {"artifacts": {"base_model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}, "examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}, "hyperparameters": {"artifactType": {"instanceSchema": "title: tfx.HyperParameters\ntype: object\n"}}, "schema": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}, "transform_graph": {"artifactType": {"instanceSchema": "title: tfx.TransformGraph\ntype: object\n"}}}, "parameters": {"custom_config": {"type": "STRING"}, "eval_args": {"type": "STRING"}, "module_path": {"type": "STRING"}, "train_args": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}, "model_run": {"artifactType": {"instanceSchema": "title: tfx.ModelRun\ntype: object\n"}}}}}, "Pusher": {"executorLabel": "Pusher_executor", "inputDefinitions": {"artifacts": {"model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}, "model_blessing": {"artifactType": {"instanceSchema": "title: tfx.ModelBlessing\ntype: object\n"}}}, "parameters": {"custom_config": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"pushed_model": {"artifactType": {"instanceSchema": "title: tfx.PushedModel\ntype: object\n"}}}}}, "SchemaImporter": {"executorLabel": "SchemaImporter_executor", "inputDefinitions": {"parameters": {"artifact_uri": {"type": "STRING"}, "output_key": {"type": "STRING"}, "reimport": {"type": "INT"}}}, "outputDefinitions": {"artifacts": {"result": {"artifactType": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}}}}, "StatisticsGen": {"executorLabel": "StatisticsGen_executor", "inputDefinitions": {"artifacts": {"examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}}, "parameters": {"exclude_splits": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"statistics": {"artifactType": {"instanceSchema": "title: tfx.ExampleStatistics\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}}}}, "TestDataGen": {"executorLabel": "TestDataGen_executor", "inputDefinitions": {"parameters": {"custom_config": {"type": "STRING"}, "input_config": {"type": "STRING"}, "output_config": {"type": "STRING"}, "output_data_format": {"type": "INT"}, "output_file_format": {"type": "INT"}}}, "outputDefinitions": {"artifacts": {"examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}}}}, "TrainDataGen": {"executorLabel": "TrainDataGen_executor", "inputDefinitions": {"parameters": {"custom_config": {"type": "STRING"}, "input_config": {"type": "STRING"}, "output_config": {"type": "STRING"}, "output_data_format": {"type": "INT"}, "output_file_format": {"type": "INT"}}}, "outputDefinitions": {"artifacts": {"examples": {"artifactType": {"instanceSchema": "title: tfx.Examples\ntype: object\nproperties:\n  span:\n    type: integer\n    description: Span for an artifact.\n  version:\n    type: integer\n    description: Version for an artifact.\n  split_names:\n    type: string\n    description: JSON-encoded list of splits for an artifact. Empty string means artifact has no split.\n"}}}}}, "WarmstartModelResolver": {"executorLabel": "WarmstartModelResolver_executor", "inputDefinitions": {"parameters": {"resolver_class": {"type": "STRING"}, "source_uri": {"type": "STRING"}}}, "outputDefinitions": {"artifacts": {"model": {"artifactType": {"instanceSchema": "title: tfx.Model\ntype: object\n"}}}}}}, "deploymentSpec": {"executors": {"BaselineModelResolver-model-blessing-resolver_executor": {"resolver": {"outputArtifactQueries": {"model_blessing": {"filter": "schema_title=\"tfx.ModelBlessing\" AND state=LIVE AND metadata.blessed.number_value=1"}}}}, "BaselineModelResolver-model-resolver_executor": {"resolver": {"outputArtifactQueries": {"model": {"filter": "schema_title=\"tfx.Model\" AND state=LIVE AND name=\"{{$.inputs.artifacts['input'].metadata['current_model_id']}}\""}}}}, "DataTransformer_executor": {"container": {"args": ["--executor_class_path", "tfx.components.transform.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "ExampleValidator_executor": {"container": {"args": ["--executor_class_path", "tfx.components.example_validator.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "HyperparamsGen_executor": {"container": {"args": ["--executor_class_path", "src.tfx_pipelines.components.hyperparameters_gen_Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "ImportSchemaGen_executor": {"container": {"args": ["--executor_class_path", "tfx.components.schema_gen.import_schema_gen.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "ModelEvaluator_executor": {"container": {"args": ["--executor_class_path", "tfx.components.evaluator.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "ModelTrainer_executor": {"container": {"args": ["--executor_class_path", "tfx.extensions.google_cloud_ai_platform.trainer.executor.GenericExecutor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "Pusher_executor": {"container": {"args": ["--executor_class_path", "tfx.extensions.google_cloud_ai_platform.pusher.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "SchemaImporter_executor": {"importer": {"artifactUri": {"constantValue": {"stringValue": "src/tfx_model_training/raw_schema"}}, "typeSchema": {"instanceSchema": "title: tfx.Schema\ntype: object\n"}}}, "StatisticsGen_executor": {"container": {"args": ["--executor_class_path", "tfx.components.statistics_gen.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "TestDataGen_executor": {"container": {"args": ["--executor_class_path", "tfx.extensions.google_cloud_big_query.example_gen.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "TrainDataGen_executor": {"container": {"args": ["--executor_class_path", "tfx.extensions.google_cloud_big_query.example_gen.executor.Executor", "--json_serialized_invocation_args", "{{$}}", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03", "--project=stellar-orb-408015", "--temp_location=gs://stellar-orb-408015/chicago-taxi-tips/source/temp", "--region=us-east1", "--runner=DataflowRunner", "--disk_size_gb=50", "--experiments=disable_worker_container_image_prepull", "--sdk_container_image=gcr.io/stellar-orb-408015/chicago-taxi-tips:03"], "command": ["python", "-m", "tfx.orchestration.kubeflow.v2.container.kubeflow_v2_run_executor"], "image": "gcr.io/stellar-orb-408015/chicago-taxi-tips:03"}}, "WarmstartModelResolver_executor": {"resolver": {"outputArtifactQueries": {"model": {"filter": "schema_title=\"tfx.Model\" AND state=LIVE"}}}}}}, "pipelineInfo": {"name": "chicago-taxi-tips-pipeline-v01"}, "root": {"dag": {"tasks": {"BaselineModelResolver-model-blessing-resolver": {"componentRef": {"name": "BaselineModelResolver-model-blessing-resolver"}, "taskInfo": {"name": "BaselineModelResolver-model-blessing-resolver"}}, "BaselineModelResolver-model-resolver": {"componentRef": {"name": "BaselineModelResolver-model-resolver"}, "inputs": {"artifacts": {"input": {"taskOutputArtifact": {"outputArtifactKey": "model_blessing", "producerTask": "BaselineModelResolver-model-blessing-resolver"}}}}, "taskInfo": {"name": "BaselineModelResolver-model-resolver"}}, "DataTransformer": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "DataTransformer"}, "dependentTasks": ["ExampleValidator", "SchemaImporter", "TrainDataGen"], "inputs": {"artifacts": {"examples": {"taskOutputArtifact": {"outputArtifactKey": "examples", "producerTask": "TrainDataGen"}}, "schema": {"taskOutputArtifact": {"outputArtifactKey": "result", "producerTask": "SchemaImporter"}}}, "parameters": {"custom_config": {"runtimeValue": {"constantValue": {"stringValue": "null"}}}, "disable_statistics": {"runtimeValue": {"constantValue": {"intValue": "0"}}}, "force_tf_compat_v1": {"runtimeValue": {"constantValue": {"intValue": "1"}}}, "module_path": {"runtimeValue": {"constantValue": {"stringValue": "transformations@gs://stellar-orb-408015/chicago-taxi-tips/source/tfx_artifacts/chicago-taxi-tips-pipeline-v01/_wheels/tfx_user_code_DataTransformer-0.0+de07c8431e7a29dced215501daf4f187c64541d3189d2529c8a52c51eb6c9d4d-py3-none-any.whl"}}}, "splits_config": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"analyze\": [\n    \"train\"\n  ],\n  \"transform\": [\n    \"train\",\n    \"eval\"\n  ]\n}"}}}}}, "taskInfo": {"name": "DataTransformer"}}, "ExampleValidator": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "ExampleValidator"}, "dependentTasks": ["SchemaImporter", "StatisticsGen"], "inputs": {"artifacts": {"schema": {"taskOutputArtifact": {"outputArtifactKey": "result", "producerTask": "SchemaImporter"}}, "statistics": {"taskOutputArtifact": {"outputArtifactKey": "statistics", "producerTask": "StatisticsGen"}}}, "parameters": {"exclude_splits": {"runtimeValue": {"constantValue": {"stringValue": "[]"}}}}}, "taskInfo": {"name": "ExampleValidator"}}, "HyperparamsGen": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "HyperparamsGen"}, "inputs": {"parameters": {"batch_size": {"componentInputParameter": "batch_size"}, "learning_rate": {"componentInputParameter": "learning_rate"}, "num_epochs": {"componentInputParameter": "num_epochs"}}}, "taskInfo": {"name": "HyperparamsGen"}}, "ImportSchemaGen": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "ImportSchemaGen"}, "inputs": {"parameters": {"schema_file": {"runtimeValue": {"constantValue": {"stringValue": "src/tfx_model_training/raw_schema/schema.pbtxt"}}}}}, "taskInfo": {"name": "ImportSchemaGen"}}, "ModelEvaluator": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "ModelEvaluator"}, "dependentTasks": ["BaselineModelResolver-model-resolver", "ImportSchemaGen", "ModelTrainer", "TestDataGen"], "inputs": {"artifacts": {"baseline_model": {"taskOutputArtifact": {"outputArtifactKey": "model", "producerTask": "BaselineModelResolver-model-resolver"}}, "examples": {"taskOutputArtifact": {"outputArtifactKey": "examples", "producerTask": "TestDataGen"}}, "model": {"taskOutputArtifact": {"outputArtifactKey": "model", "producerTask": "ModelTrainer"}}, "schema": {"taskOutputArtifact": {"outputArtifactKey": "schema", "producerTask": "ImportSchemaGen"}}}, "parameters": {"eval_config": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"metrics_specs\": [\n    {\n      \"metrics\": [\n        {\n          \"class_name\": \"ExampleCount\"\n        },\n        {\n          \"class_name\": \"BinaryAccuracy\",\n          \"threshold\": {\n            \"change_threshold\": {\n              \"absolute\": -1e-10,\n              \"direction\": \"HIGHER_IS_BETTER\"\n            },\n            \"value_threshold\": {\n              \"lower_bound\": 0.8\n            }\n          }\n        }\n      ]\n    }\n  ],\n  \"model_specs\": [\n    {\n      \"label_key\": \"tip_bin\",\n      \"prediction_key\": \"probabilities\",\n      \"signature_name\": \"serving_tf_example\"\n    }\n  ],\n  \"slicing_specs\": [\n    {}\n  ]\n}"}}}, "example_splits": {"runtimeValue": {"constantValue": {"stringValue": "[\"test\"]"}}}, "fairness_indicator_thresholds": {"runtimeValue": {"constantValue": {"stringValue": "null"}}}}}, "taskInfo": {"name": "ModelEvaluator"}}, "ModelTrainer": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "ModelTrainer"}, "dependentTasks": ["DataTransformer", "HyperparamsGen", "ImportSchemaGen", "WarmstartModelResolver"], "inputs": {"artifacts": {"base_model": {"taskOutputArtifact": {"outputArtifactKey": "model", "producerTask": "WarmstartModelResolver"}}, "examples": {"taskOutputArtifact": {"outputArtifactKey": "transformed_examples", "producerTask": "DataTransformer"}}, "hyperparameters": {"taskOutputArtifact": {"outputArtifactKey": "hyperparameters", "producerTask": "HyperparamsGen"}}, "schema": {"taskOutputArtifact": {"outputArtifactKey": "schema", "producerTask": "ImportSchemaGen"}}, "transform_graph": {"taskOutputArtifact": {"outputArtifactKey": "transform_graph", "producerTask": "DataTransformer"}}}, "parameters": {"custom_config": {"runtimeValue": {"constantValue": {"stringValue": "{\"ai_platform_training_args\": {\"project\": \"stellar-orb-408015\", \"worker_pool_specs\": [{\"container_spec\": {\"image_uri\": \"gcr.io/stellar-orb-408015/chicago-taxi-tips:03\"}, \"machine_spec\": {\"machine_type\": \"n1-standard-4\"}, \"replica_count\": 1}]}, \"ai_platform_training_enable_ucaip\": true, \"ai_platform_training_ucaip_region\": \"us-central1\", \"use_gpu\": false}"}}}, "eval_args": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"num_steps\": 5\n}"}}}, "module_path": {"runtimeValue": {"constantValue": {"stringValue": "model_runner@gs://stellar-orb-408015/chicago-taxi-tips/source/tfx_artifacts/chicago-taxi-tips-pipeline-v01/_wheels/tfx_user_code_ModelTrainer-0.0+fbf1222974ecbb5aa045bcff912168f0623e5e0009284a036b694d21187f3d21-py3-none-any.whl"}}}, "train_args": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"num_steps\": 10\n}"}}}}}, "taskInfo": {"name": "ModelTrainer"}}, "Pusher": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "Pusher"}, "dependentTasks": ["ModelEvaluator", "ModelTrainer"], "inputs": {"artifacts": {"model": {"taskOutputArtifact": {"outputArtifactKey": "model", "producerTask": "ModelTrainer"}}, "model_blessing": {"taskOutputArtifact": {"outputArtifactKey": "blessing", "producerTask": "ModelEvaluator"}}}, "parameters": {"custom_config": {"runtimeValue": {"constantValue": {"stringValue": "{\"ai_platform_enable_vertex\": true, \"ai_platform_serving_args\": {\"endpoint_name\": \"predict-explain-for-chicago-taxi-tips-pipeline-v01\", \"explanation_metadata\": {\"inputs\": {\"dropoff_grid\": {\"input_tensor_name\": \"dropoff_grid\"}, \"euclidean\": {\"input_tensor_name\": \"euclidean\"}, \"loc_cross\": {\"input_tensor_name\": \"loc_cross\"}, \"payment_type\": {\"input_tensor_name\": \"payment_type\"}, \"pickup_grid\": {\"input_tensor_name\": \"pickup_grid\"}, \"trip_day\": {\"input_tensor_name\": \"trip_day\"}, \"trip_day_of_week\": {\"input_tensor_name\": \"trip_day_of_week\"}, \"trip_hour\": {\"input_tensor_name\": \"trip_hour\"}, \"trip_miles\": {\"input_tensor_name\": \"trip_miles\"}, \"trip_month\": {\"input_tensor_name\": \"trip_month\"}, \"trip_seconds\": {\"input_tensor_name\": \"trip_seconds\"}}, \"outputs\": {\"scores\": {\"output_tensor_name\": \"scores\"}}}, \"explanation_parameters\": {\"sampled_shapley_attribution\": {\"path_count\": 10}}, \"machine_type\": \"n1-standard-4\", \"project\": \"stellar-orb-408015\"}, \"ai_platform_vertex_container_image_uri\": \"us-docker.pkg.dev/vertex-ai/prediction/tf2-cpu.2-12:latest\", \"ai_platform_vertex_region\": \"us-central1\"}"}}}}}, "taskInfo": {"name": "Pusher"}}, "SchemaImporter": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "SchemaImporter"}, "inputs": {"parameters": {"artifact_uri": {"runtimeValue": {"constantValue": {"stringValue": "src/tfx_model_training/raw_schema"}}}, "output_key": {"runtimeValue": {"constantValue": {"stringValue": "result"}}}, "reimport": {"runtimeValue": {"constantValue": {"intValue": "0"}}}}}, "taskInfo": {"name": "SchemaImporter"}}, "StatisticsGen": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "StatisticsGen"}, "dependentTasks": ["TrainDataGen"], "inputs": {"artifacts": {"examples": {"taskOutputArtifact": {"outputArtifactKey": "examples", "producerTask": "TrainDataGen"}}}, "parameters": {"exclude_splits": {"runtimeValue": {"constantValue": {"stringValue": "[]"}}}}}, "taskInfo": {"name": "StatisticsGen"}}, "TestDataGen": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "TestDataGen"}, "inputs": {"parameters": {"custom_config": {"runtimeValue": {"constantValue": {"stringValue": "{}"}}}, "input_config": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"splits\": [\n    {\n      \"name\": \"single_split\",\n      \"pattern\": \"\\n    SELECT \\n        IF(trip_month IS NULL, -1, trip_month) trip_month,\\n        IF(trip_day IS NULL, -1, trip_day) trip_day,\\n        IF(trip_day_of_week IS NULL, -1, trip_day_of_week) trip_day_of_week,\\n        IF(trip_hour IS NULL, -1, trip_hour) trip_hour,\\n        IF(trip_seconds IS NULL, -1, trip_seconds) trip_seconds,\\n        IF(trip_miles IS NULL, -1, trip_miles) trip_miles,\\n        IF(payment_type IS NULL, 'NA', payment_type) payment_type,\\n        IF(pickup_grid IS NULL, 'NA', pickup_grid) pickup_grid,\\n        IF(dropoff_grid IS NULL, 'NA', dropoff_grid) dropoff_grid,\\n        IF(euclidean IS NULL, -1, euclidean) euclidean,\\n        IF(loc_cross IS NULL, 'NA', loc_cross) loc_cross,\\n        tip_bin\\n    FROM playground_us.chicago_taxitrips_final \\n    WHERE ML_use = 'TEST'\\n    LIMIT 12\"\n    }\n  ]\n}"}}}, "output_config": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"split_config\": {\n    \"splits\": [\n      {\n        \"hash_buckets\": 1,\n        \"name\": \"test\"\n      }\n    ]\n  }\n}"}}}, "output_data_format": {"runtimeValue": {"constantValue": {"intValue": "6"}}}, "output_file_format": {"runtimeValue": {"constantValue": {"intValue": "5"}}}}}, "taskInfo": {"name": "TestDataGen"}}, "TrainDataGen": {"cachingOptions": {"enableCache": true}, "componentRef": {"name": "TrainDataGen"}, "inputs": {"parameters": {"custom_config": {"runtimeValue": {"constantValue": {"stringValue": "{}"}}}, "input_config": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"splits\": [\n    {\n      \"name\": \"single_split\",\n      \"pattern\": \"\\n    SELECT \\n        IF(trip_month IS NULL, -1, trip_month) trip_month,\\n        IF(trip_day IS NULL, -1, trip_day) trip_day,\\n        IF(trip_day_of_week IS NULL, -1, trip_day_of_week) trip_day_of_week,\\n        IF(trip_hour IS NULL, -1, trip_hour) trip_hour,\\n        IF(trip_seconds IS NULL, -1, trip_seconds) trip_seconds,\\n        IF(trip_miles IS NULL, -1, trip_miles) trip_miles,\\n        IF(payment_type IS NULL, 'NA', payment_type) payment_type,\\n        IF(pickup_grid IS NULL, 'NA', pickup_grid) pickup_grid,\\n        IF(dropoff_grid IS NULL, 'NA', dropoff_grid) dropoff_grid,\\n        IF(euclidean IS NULL, -1, euclidean) euclidean,\\n        IF(loc_cross IS NULL, 'NA', loc_cross) loc_cross,\\n        tip_bin\\n    FROM playground_us.chicago_taxitrips_final \\n    WHERE ML_use = 'UNASSIGNED'\\n    LIMIT 10\"\n    }\n  ]\n}"}}}, "output_config": {"runtimeValue": {"constantValue": {"stringValue": "{\n  \"split_config\": {\n    \"splits\": [\n      {\n        \"hash_buckets\": 4,\n        \"name\": \"train\"\n      },\n      {\n        \"hash_buckets\": 1,\n        \"name\": \"eval\"\n      }\n    ]\n  }\n}"}}}, "output_data_format": {"runtimeValue": {"constantValue": {"intValue": "6"}}}, "output_file_format": {"runtimeValue": {"constantValue": {"intValue": "5"}}}}}, "taskInfo": {"name": "TrainDataGen"}}, "WarmstartModelResolver": {"componentRef": {"name": "WarmstartModelResolver"}, "inputs": {"parameters": {"resolver_class": {"runtimeValue": {"constantValue": {"stringValue": "{\"__class__\": \"LatestArtifactStrategy\", \"__module__\": \"tfx.dsl.input_resolution.strategies.latest_artifact_strategy\", \"__tfx_object_type__\": \"class\"}"}}}, "source_uri": {"runtimeValue": {"constantValue": {"stringValue": "{}"}}}}}, "taskInfo": {"name": "WarmstartModelResolver"}}}}, "inputDefinitions": {"parameters": {"batch_size": {"type": "INT"}, "learning_rate": {"type": "DOUBLE"}, "num_epochs": {"type": "INT"}}}}, "schemaVersion": "2.0.0", "sdkVersion": "tfx-1.14.0"}, "runtimeConfig": {"gcsOutputDirectory": "gs://stellar-orb-408015/chicago-taxi-tips/source/tfx_artifacts/chicago-taxi-tips-pipeline-v01"}}